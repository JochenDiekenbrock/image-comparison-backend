{% extends "layout.html" %}

{% block body %}
<h1 class="text-center">Branch {{ branchName }}</h1>
<table class="table table-hover table-bordered">
    <thead>
    <tr class="text-center">
        <th scope="col">Name</th>
        <th scope="col">Date</th>
        <th scope="col">Result</th>
        <th scope="col">Base</th>
        <th scope="col">Current</th>
        <th scope="col">Diff</th>
        <th scope="col"></th>
    </tr>
    </thead>
    <tbody>
    {% for result in testResults %}
    <tr id="tr-{{ result.name }}">
        <th scope="row">{{ result.name }}</th>
        <td>{{ result.currentFile.date }}</td>
        <td id="td-{{ result.name }}" class="text-center {{ 'table-success' if result.result else 'table-danger' }}">
            {% if result.result == false %}<i class="fas fa-times fa-lg"></i>{% endif %}
            {% if result.result == true %}<i class="fas fa-check fa-lg"></i>{% endif %}
        </td>
        <td class="text-center">
            <a href="{{ result.baseFile }}" target="_blank"
               class="btn btn-secondary btn-sm" role="button">
                <span class="fas fa-external-link-alt"></span> Base
            </a>
        </td>
        <td class="text-center">
            <a href="{{ result.currentFile.file }}" target="_blank"
               class="btn btn-secondary btn-sm" role="button">
                <span class="fas fa-external-link-alt"></span> Current
            </a>
        </td>
        <td class="text-center">
            {% if result.diffFile %}
            <a href="{{ result.diffFile }}" target="_blank"
               class="btn btn-secondary btn-sm" role="button">
                <span class="fas fa-external-link-alt"></span> Diff
            </a>
            {% endif %}
        </td>
        <td class="text-center">
            {% if result.result == false %}
            <button id="a-{{ result.name }}"
                    onclick="accept('{{ branchName }}', '{{ result.name }}'); return false;"
                    class="btn btn-success fas fa-thumbs-up"></button>
            {% endif %}
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}

{% block footer %}
<script src="/branch.js"></script>
{% endblock %}
